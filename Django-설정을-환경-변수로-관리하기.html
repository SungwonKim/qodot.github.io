<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>waiting for qodot</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="imagetoolbar" content="no">
        <meta http-equiv="pragma" content="cache">
        <meta http-equiv="cache-control" content="cache">
        <meta http-equiv="vary" content="content-language">
        <meta http-equiv="Cache-control" content="max-age=2592000, public">
        <meta http-equiv="content-style-type" content="text/css">
        <link rel="dns-prefetch" href="https://qodot.github.io"/>
        <link rel="dns-prefetch" href="//www.gstatic.com"/>
        <link rel="dns-prefetch" href="//fonts.gstatic.com"/>
        <link rel="dns-prefetch" href="//fonts.googleapis.com"/>
        <link rel="dns-prefetch" href="//twemoji.maxcdn.com"/>
        <link rel="dns-prefetch" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400"/>
        <link rel="stylesheet" type="text/css" href="https://qodot.github.io/theme/css/screen.min.css">
        <link rel="stylesheet" type="text/css" href="https://qodot.github.io/theme/css/highlight.min.css">
        <link rel="stylesheet" type="text/css" href="https://qodot.github.io/theme/css/custom.min.css">
        <link rel="stylesheet" type="text/css" href="https://qodot.github.io/theme/css/twemoji-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
        <link rel="publisher" href="">
        <link rel="apple-touch-startup-image" href="https://qodot.github.io/theme/images/logo.png">
        <link type="text/plain" rel="socialmedia" href="https://qodot.github.io/socialmedia.txt">
        <meta http-equiv="content-type" content="text/html;charset=utf-8">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="application-name" content="waiting for qodot"/>
        <meta name="msapplication-starturl" content="http:https://qodot.github.io"/>
        <meta name="msapplication-tooltip" content=""/>
        <meta name="msapplication-window" content="width=1024;height=768"/>
        <meta name="msapplication-task" content="name=waiting for qodot;action-uri=http:https://qodot.github.io;icon-uri=https://qodot.github.io/theme/images/favicon.ico"/>
        <meta name="msapplication-TileImage" content="https://qodot.github.io/theme/images/apple-touch-icon-144x144.png"/>
        <meta name="msapplication-TileColor" content="#1F1F21"/>
        <meta name="application-name" content="waiting for qodot">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320"/>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="google-site-verification" content="">
        <meta name="alexaVerifyID" content=""/>
        <meta name="wot-verification" content=""/>
        <meta name="msvalidate.01" content="" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="medium" content="mult">
        <meta name="adblock" content="disable">
        <meta name="rating" content="General">
        <meta name="resource-type" content="document">
        <meta name="revisit-after" content="1 days">
        <meta name="revisit" content="1">
        <meta name="robots" content="index,follow">
        <meta name="no-email-collection" content="http://www.unspam.com/noemailcollection/">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@">
        <meta property="og:site_name" content="waiting for qodot">
        <meta property="og:locale" content="en">
        <link rel="canonical" href="https://qodot.github.io/Django-설정을-환경-변수로-관리하기.html">
        <meta property="og:type" content="article">
        <meta property="og:title" content="Django 설정을 환경 변수로 관리하기">
        <meta property="og:url" content="Django-설정을-환경-변수로-관리하기.html">
        <meta property="og:description" content="개요 설정 정보를 다루다 보면 코드에 그대로 적어서는 안되는 정보들이 있다. 예를 들어 Github의 public 계정을 사용할 경우, 불특정 다수가 서비스의 상용 데이터베이스의 접속 정보를 알아서는 안될 것이다. 그래서, 간단하게 django 설정 정보를 환경 변수로 등록해서 repository에 노출되지 않도록 해보자. (SECRET_KEY를 예로 들겠음) 만약 virtualenv를 쓰고 있지 않다면 상당히 간단하다 …">
        <meta property="article:published_time" content="목요일, 7월 30, 2015">
        <meta name="twitter:title" content="Django 설정을 환경 변수로 관리하기">
        <meta name="twitter:description" content="개요 설정 정보를 다루다 보면 코드에 그대로 적어서는 안되는 정보들이 있다. 예를 들어 Github의 public 계정을 사용할 경우, 불특정 다수가 서비스의 상용 데이터베이스의 접속 정보를 알아서는 안될 것이다. 그래서, 간단하게 django 설정 정보를 환경 변수로 등록해서 repository에 노출되지 않도록 해보자. (SECRET_KEY를 예로 들겠음) 만약 virtualenv를 쓰고 있지 않다면 상당히 간단하다 …">
        <meta name="description" content="개요 설정 정보를 다루다 보면 코드에 그대로 적어서는 안되는 정보들이 있다. 예를 들어 Github의 public 계정을 사용할 경우, 불특정 다수가 서비스의 상용 데이터베이스의 접속 정보를 알아서는 안될 것이다. 그래서, 간단하게 django 설정 정보를 환경 변수로 등록해서 repository에 노출되지 않도록 해보자. (SECRET_KEY를 예로 들겠음) 만약 virtualenv를 쓰고 있지 않다면 상당히 간단하다 …">
        <meta name="twitter:creator" content="@">
        <meta property="og:image" content="https://qodot.github.io/theme/images/logo.png">
        <meta name="twitter:image" content="https://qodot.github.io/theme/images/logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="300">
        <meta property="og:image:height" content="300">
        <meta property="article:section" content="py">
        <meta property="article:tag" content="django">
        <meta property="article:author" content="qodot">
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-83522208-2', 'auto');
            ga('send', 'pageview');
        </script>
    </head>
    <body class="post-template nav-closed" itemscope itemtype="http://schema.org/WebPage">
        <meta itemprop="name" content="waiting for qodot">
        <meta itemprop="url" content="https://qodot.github.io">
        <meta itemprop="headline" content="waiting for qodot || ">
        <meta itemprop="description about" content="">
        <meta itemprop="keywords" content="">
        <meta itemprop="inLanguage" content="en">
<nav class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul role="menubar">
        <li class="" role="presentation"><a  href="https://qodot.github.io/index.html" title="waiting for qodot" itemprop="name" itemprop="significantLink">Home</a></li>
            <li class="" role="presentation"><a  href="https://qodot.github.io/category/py.html" title="waiting for qodot |@ py" itemprop="name" itemprop="significantLink">@ py</a></li>
            <li class="" role="presentation"><a  href="https://qodot.github.io/category/env.html" title="waiting for qodot |@ env" itemprop="name" itemprop="significantLink">@ env</a></li>
            <li role="presentation"><a  href="https://github.com/qodot" title="* github" itemprop="name" itemprop="significantLink">* github</a></li>
            <li role="presentation"><a  href="https://www.facebook.com/daewon.seo.5" title="* facebook" itemprop="name" itemprop="significantLink">* facebook</a></li>
            <li role="presentation"><a  href="https://rateyourmusic.com/~qodot" title="* rateyourmusic" itemprop="name" itemprop="significantLink">* rateyourmusic</a></li>
            <li role="presentation"><a  href="http://www.last.fm/user/qodot" title="* lastfm" itemprop="name" itemprop="significantLink">* lastfm</a></li>
            <li class="" role="presentation"><a  href="https://qodot.github.io/archives.html" title="waiting for qodot | Archives" itemprop="name" itemprop="significantLink">Archives</a></li>
    </ul>
</nav>
<span class="nav-cover"></span>        <div class="site-wrapper">
            <header class="main-header post-head" style="background-image: url('/images/default_header.png');" itemscope itemtype="http://schema.org/WPHeader">
                <nav class="main-nav overlay clearfix">
                    <a class="menu-button" href="#">
                        <span class="burger">&#9776;</span>
                        <span class="word">Menu</span>
                    </a>
                </nav>
                <div class="vertical">
                    <div class="main-header-content inner">
                    </div>
                </div>
            </header>
<main id="content" class="content" role="main">
    <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
        <header class="post-header">
            <h1 class="post-title" itemprop="headline">Django 설정을 환경 변수로 관리하기</h1>
            <section class="post-meta">
                <time class="post-date" itemprop="datePublished" datetime="2015YYY-00M-%DD">목요일, 7월 30, 2015</time>
                on <a href="tag/django.html">Django</a>            </section>
        </header>
        <section class="post-content">
            <h2>개요</h2>
<p>설정 정보를 다루다 보면 코드에 그대로 적어서는 안되는 정보들이 있다. 예를 들어 Github의 public 계정을 사용할 경우, 불특정 다수가 서비스의 상용 데이터베이스의 접속 정보를 알아서는 안될 것이다.</p>
<p>그래서, 간단하게 django 설정 정보를 환경 변수로 등록해서 repository에 노출되지 않도록 해보자. (SECRET_KEY를 예로 들겠음) 만약 virtualenv를 쓰고 있지 않다면 상당히 간단하다.</p>
<p><br></p>
<h2>Virtualenv를 사용하지 않는 경우</h2>
<p><code>.bashrc</code>, <code>.bash_profile</code>, <code>.zshrc</code>에 환경 변수를 등록한다.</p>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">SECRET_KEY</span><span class="o">=</span><span class="s1">&#39;my_secret_key&#39;</span>
</pre></div>


<p>Django의 설정 변수를 다음과 같이 바꾼다.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;SECRET_KEY&#39;</span><span class="p">)</span>
</pre></div>


<p><br></p>
<h2>Virtualenv를 사용하는 경우</h2>
<p>해당 프로젝트가 이용하는 가상환경 디렉토리로 이동한다.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> ~/.virtualenvs/myproject/
</pre></div>


<p><code>bin</code> 디렉터리로 이동해서 <code>postactivate</code> 파일을 편집기로 연다.</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> bin
vi postactivate
<span class="c1"># postactivate : 가상환경이 실행되고 바로 다음에 실행할 shell script</span>
</pre></div>


<p>등록할 환경 변수를 입력한다.</p>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">SECRET_KEY</span><span class="o">=</span><span class="s1">&#39;my_secret_key&#39;</span>
</pre></div>


<p><code>postdeactivate</code> 파일을 편집기로 연다.</p>
<div class="highlight"><pre><span></span>vi postdeactivate
<span class="c1"># postdeactivate : 가상환경에서 빠져 나오고 바로 다음에 실행할 shell script</span>
</pre></div>


<p>앞에서 등록했던 환경변수를 해제한다.</p>
<div class="highlight"><pre><span></span><span class="nb">unset</span> SECRET_KEY
</pre></div>


<p>Django의 설정 변수를 다음과 같이 바꾼다.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;SECRET_KEY&#39;</span><span class="p">)</span>
</pre></div>


<p><br></p>
<h2>PS</h2>
<p>전에 작성했던 Django 환경 설정 분리에서 <code>DJANGO_SETTINGS_MODULE</code>를 사용했었다. 이 값도 <code>postactivate</code>와 <code>postdeactivate</code>에 등록해서 관리가 가능하다.</p>
<p><br></p>
<h4>참고한 페이지</h4>
<ul>
<li><a href="http://stackoverflow.com/questions/15209978/where-to-store-secret-keys-django">Where to store secret keys DJANGO</a></li>
</ul>
        </section>
        <footer class="post-footer">
            <figure class="author-image">
                <a class="img" href="author/qodot.html" style="background-image: url('/images/profile.png')"><span class="hidden">qodot's Picture</span></a>
            </figure>
            <section class="author">
                <h4>
                    <a href="author/qodot.html">qodot</a>
                </h4>
                <p>Python Developer</p>
                <div class="author-meta">
                    <span class="author-location icon-location">Seoul, South Korea</span>                 </div>
            </section>
            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Django%20%EC%84%A4%EC%A0%95%EC%9D%84%20%ED%99%98%EA%B2%BD...%20via%20%40&amp;url=https://qodot.github.io/Django-설정을-환경-변수로-관리하기.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://qodot.github.io/Django-설정을-환경-변수로-관리하기.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://qodot.github.io/Django-설정을-환경-변수로-관리하기.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
 <section>
<h2>Comments !</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">var disqus_identifier = "Django-설정을-환경-변수로-관리하기.html";(function(){var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;dsq.src = '//qodot.disqus.com/embed.js';(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script>
</section>         </footer>
    </article>
</main>
<aside class="read-next">
</aside>             <footer class="site-footer clearfix" role="contentinfo" itemscope itemtype="http://schema.org/WPFooter">
                <section class="copyright">
                    <a itemprop="url" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
                        CC Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
                </section>
                <section class="poweredby">
                    Proudly published with
                    <a itemprop="url" href="https://getpelican.org" target="_blank">Pelican</a>
                </section>
            </footer>
        </div>
    <script type="text/javascript" src="https://qodot.github.io/theme/js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="https://qodot.github.io/theme/js/jquery.fitvids.min.js"></script>
    <script type="text/javascript" src="https://qodot.github.io/theme/js/index.min.js"></script>
    </body>
</html>